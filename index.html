<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FLUXOS DA OUVIDORIA</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --etapa1: #2980b9;
            --etapa2: #e67e22;
            --etapa3: #27ae60;
            --destaque: #e74c3c;
            --fundo: #f8f9fa;
            --texto: #2c3e50;
            --correto: #2ecc71;
            --incorreto: #e74c3c;
            --cor-resultado: #27ae60;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: var(--fundo);
            color: var(--texto);
            padding: 10px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }
        /* NOVO CABEÇALHO */
        .app-header {
            background: linear-gradient(135deg, #0056b3, #003366);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .app-header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .app-header p {
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        .header {
            background: linear-gradient(135deg, #004494, #002b4d);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .header:hover {
            background: linear-gradient(135deg, #003d82, #002340);
        }
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            width: 100%;
        }
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--etapa1), var(--etapa2), var(--etapa3));
            width: 0%;
            transition: width 0.5s;
        }
        .nav-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            background: #f1f1f1;
        }
        .nav-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            background: white;
            color: #0056b3;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            flex: 1 1 150px;
            max-width: 180px;
            text-align: center;
        }
        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .etapa {
            margin: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-top: 5px solid;
        }
        .etapa-1 { border-color: var(--etapa1); }
        .etapa-2 { border-color: var(--etapa2); }
        .etapa-3 { border-color: var(--etapa3); }
        .etapa-title {
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
        }
        .etapa-1 .etapa-title { color: var(--etapa1); }
        .etapa-2 .etapa-title { color: var(--etapa2); }
        .etapa-3 .etapa-title { color: var(--etapa3); }
        .content {
            padding: 0 15px 15px;
            background: white;
        }
        .step {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
            border-left: 4px solid;
        }
        .etapa-1 .step { border-color: var(--etapa1); }
        .etapa-2 .step { border-color: var(--etapa2); }
        .etapa-3 .step { border-color: var(--etapa3); }
        .step:hover {
            transform: translateX(5px);
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        .step-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--texto);
        }
        .flow-arrow {
            text-align: center;
            margin: 10px 0;
            font-size: 1.8rem;
            color: var(--destaque);
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .etapa-link {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 15px;
            background: rgba(0,86,179,0.1);
            color: #0056b3;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }
        .etapa-link:hover {
            background: #0056b3;
            color: white;
            transform: translateY(-2px);
        }
        /* Estilos do Quiz */
        .quiz-section {
            padding: 20px;
            background: white;
            margin: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: none;
        }
        .quiz-title {
            text-align: center;
            color: #0056b3;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }
        .difficulty-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .difficulty-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .easy-btn { background: #27ae60; color: white; }
        .medium-btn { background: #f39c12; color: white; }
        .hard-btn { background: #e74c3c; color: white; }
        .difficulty-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .quiz-container {
            display: none;
        }
        .question {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            color: #0056b3;
            font-size: 1.1rem;
        }
        .options {
            display: grid;
            gap: 10px;
        }
        .option {
            padding: 12px;
            background: #e9ecef;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        .option:hover {
            background: #dee2e6;
        }
        .option.selected {
            background: #0056b3;
            color: white;
        }
        .option.correct {
            background: var(--correto);
            color: white;
            animation: correctAnswer 0.5s ease;
        }
        .option.incorrect {
            background: var(--incorreto);
            color: white;
            animation: incorrectAnswer 0.5s ease;
        }
        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes incorrectAnswer {
            0% { transform: translateX(0); }
            20% { transform: translateX(-5px); }
            40% { transform: translateX(5px); }
            60% { transform: translateX(-5px); }
            80% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }
        .quiz-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            align-items: center;
        }
        .quiz-btn {
            padding: 10px 20px;
            background: #0056b3;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .quiz-btn:hover {
            background: #004494;
        }
        .quiz-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        .restart-btn {
            padding: 12px 25px;
            background: #0056b3;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            margin-top: 20px;
        }
        .restart-btn:hover {
            background: #004494;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        /* ESTILOS ATUALIZADOS PARA RESULTADO */
        .result-container {
            text-align: center;
            padding: 30px;
            display: none;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        .result-title {
            font-size: 1.5rem;
            color: #0056b3;
            margin-bottom: 20px;
        }
        .result-visual {
            position: relative;
            width: 220px;
            height: 220px;
            margin: 0 auto 25px;
        }
        .result-circle {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: all 1s ease;
        }
        .result-inner {
            width: 70%;
            height: 70%;
            background: white;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
        }
        .result-percent {
            font-size: 3rem;
            font-weight: bold;
            color: #2c3e50;
            line-height: 1;
            margin-bottom: 5px;
            transition: all 0.5s ease;
        }
        .result-label {
            font-size: 1.1rem;
            color: #7f8c8d;
            font-weight: 600;
        }
        .result-feedback {
            font-size: 1.3rem;
            font-weight: bold;
            margin: 20px 0;
            padding: 10px 20px;
            border-radius: 30px;
            display: inline-block;
        }
        .result-stars {
            margin: 20px 0;
            font-size: 2rem;
            color: #ffc107;
        }
        
        /* ESTILOS ATUALIZADOS PARA FEEDBACK */
        .feedback-item {
            margin-bottom: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            background: #f8f9fa;
            text-align: left;
            position: relative;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .feedback-question {
            font-weight: bold;
            margin-bottom: 12px;
            color: #2c3e50;
            padding-right: 40px;
        }
        .correct-icon, .incorrect-icon {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 1.3rem;
            background: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .correct-icon {
            color: #27ae60;
            border: 2px solid #27ae60;
        }
        .incorrect-icon {
            color: #e74c3c;
            border: 2px solid #e74c3c;
        }
        .feedback-answer {
            margin-bottom: 8px;
            padding-left: 10px;
            position: relative;
            line-height: 1.5;
        }
        .feedback-explanation {
            font-style: italic;
            color: #666;
            padding: 12px;
            background: white;
            border-radius: 6px;
            margin-top: 10px;
            border-left: 3px solid #0056b3;
        }
        
        /* Cores baseadas no desempenho */
        .excellent .result-circle {
            background: conic-gradient(#27ae60 0%, #27ae60 100%);
        }
        .excellent .result-percent,
        .excellent .result-feedback {
            color: #27ae60;
        }
        .excellent .result-feedback {
            background: rgba(39, 174, 96, 0.1);
        }
        
        .good .result-circle {
            background: conic-gradient(#2ecc71 0%, #2ecc71 100%);
        }
        .good .result-percent,
        .good .result-feedback {
            color: #2ecc71;
        }
        .good .result-feedback {
            background: rgba(46, 204, 113, 0.1);
        }
        
        .average .result-circle {
            background: conic-gradient(#f39c12 0%, #f39c12 100%);
        }
        .average .result-percent,
        .average .result-feedback {
            color: #f39c12;
        }
        .average .result-feedback {
            background: rgba(243, 156, 18, 0.1);
        }
        
        .poor .result-circle {
            background: conic-gradient(#e74c3c 0%, #e74c3c 100%);
        }
        .poor .result-percent,
        .poor .result-feedback {
            color: #e74c3c;
        }
        .poor .result-feedback {
            background: rgba(231, 76, 60, 0.1);
        }
        
        /* Animações */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        /* NOVO RODAPÉ */
        footer {
            text-align: center;
            padding: 20px;
            background: #f1f1f1;
            font-size: 0.9rem;
            color: #666;
            border-top: 1px solid #ddd;
        }
        footer p {
            margin: 5px 0;
        }
        footer i {
            margin-right: 5px;
        }
        
        @media (max-width: 600px) {
            .app-header h1 {
                font-size: 1.5rem;
            }
            .app-header p {
                font-size: 0.9rem;
            }
            .header { 
                font-size: 1.2rem; 
                padding: 12px;
            }
            .nav-btn { 
                padding: 8px 12px; 
                font-size: 0.9rem; 
            }
            .etapa-title { 
                font-size: 1.1rem; 
            }
            .difficulty-buttons { 
                flex-direction: column; 
            }
            .difficulty-btn { 
                width: 100%; 
            }
            .question-text { 
                font-size: 1rem; 
            }
            .option { 
                padding: 10px; 
            }
            .result-visual {
                width: 180px;
                height: 180px;
            }
            .result-percent {
                font-size: 2.5rem;
            }
            .result-feedback {
                font-size: 1.1rem;
            }
            .feedback-item {
                padding: 12px 15px;
                margin-right: 5px;
            }
            .correct-icon, .incorrect-icon {
                right: 10px;
                top: 12px;
                font-size: 1.1rem;
                width: 26px;
                height: 26px;
            }
            .feedback-question {
                padding-right: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- NOVO CABEÇALHO -->
        <div class="app-header">
            <h1><i class="fas fa-headset"></i> Guia do Ouvidor</h1>
            <p>Minuta do Regimento Nacional das Ouvidorias - 2025</p>
        </div>

        <div class="header" id="main-header">
            FLUXOGRAMA DAS MANIFESTAÇÕES DA OUVIDORIA
            <i class="fas fa-chevron-down toggle-icon"></i>
        </div>

        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn" onclick="showEtapa(1)">1ª Etapa</button>
            <button class="nav-btn" onclick="showEtapa(2)">2ª Etapa</button>
            <button class="nav-btn" onclick="showEtapa(3)">3ª Etapa</button>
            <button class="nav-btn" onclick="showQuizSection()">Quiz</button>
        </div>

        <!-- Seção do Quiz Funcional -->
        <div class="quiz-section" id="quiz-section">
            <h2 class="quiz-title">Quiz da Ouvidoria</h2>
            <div class="difficulty-buttons">
                <button class="difficulty-btn easy-btn" onclick="startQuiz('easy')">Fácil</button>
                <button class="difficulty-btn medium-btn" onclick="startQuiz('medium')">Médio</button>
                <button class="difficulty-btn hard-btn" onclick="startQuiz('hard')">Difícil</button>
            </div>

            <div id="easy-quiz" class="quiz-container"></div>
            <div id="medium-quiz" class="quiz-container"></div>
            <div id="hard-quiz" class="quiz-container"></div>

            <div class="quiz-nav">
                <button id="prev-btn" class="quiz-btn" onclick="prevQuestion()" disabled>Anterior</button>
                <span id="question-counter" class="question-counter">Pergunta 1/4</span>
                <button id="next-btn" class="quiz-btn" onclick="nextQuestion()">Próxima</button>
            </div>

            <!-- Seção de Resultado -->
            <div id="quiz-result" class="result-container">
                <h3 class="result-title">Seu Desempenho</h3>
                
                <div class="result-visual">
                    <div class="result-circle" id="result-circle">
                        <div class="result-inner">
                            <div class="result-percent" id="result-percent">0%</div>
                            <div class="result-label">de acerto</div>
                        </div>
                    </div>
                </div>
                
                <div class="result-feedback" id="result-feedback"></div>
                
                <div class="result-stars" id="result-stars"></div>
                
                <div id="feedback"></div>
                
                <button class="restart-btn" onclick="restartQuiz()">Fazer Novamente</button>
            </div>
        </div>

        <!-- 1ª ETAPA -->
        <div class="etapa etapa-1" id="etapa-1">
            <div class="etapa-title" onclick="toggleEtapa(1)">
                1ª ETAPA: Organização da Rotina Diária – Método DIA
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="content">
                <div class="step">
                    <div class="step-title">Esta etapa é crucial para a triagem inicial das manifestações, categorizando-as e priorizando as ações.</div>
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Início do Expediente:</div>
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa1);font-weight:bold">D</span> – Denúncias:</div>
                    Identificar e separar manifestações que relatam irregularidades.
                    <div class="flow-arrow">
                        <i class="fas fa-arrow-down"></i>
                    </div>
                    <div class="etapa-link" onclick="showEtapa(2)">(Para Denúncias) Seguir para a 2ª ETAPA – Classificação das Denúncias (Método JALECO)</div>
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa1);font-weight:bold">I</span> – Informações:</div>
                    Levantar e atualizar atos normativos e legislações vigentes.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa1);font-weight:bold">A</span> – Acompanhamento:</div>
                    Monitorar continuamente as manifestações em aberto (tramitando, encaminhadas, respondidas e registradas no SEI).
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Fim da Triagem Diária</div>
                    <div>(Para Assuntos de Rotina)</div>
                </div>
            </div>
        </div>

        <!-- 2ª ETAPA -->
        <div class="etapa etapa-2" id="etapa-2">
            <div class="etapa-title" onclick="toggleEtapa(2)">
                2ª ETAPA: Classificação das Denúncias – Método JALECO
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="content">
                <div class="step">
                    <div class="step-title">Após a triagem inicial das denúncias, o método JALECO permite uma classificação estratégica para direcionar o tratamento especializado.</div>
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Início da Classificação de Denúncias</div>
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa2);font-weight:bold">J</span> – Judiciais/Jurídicas:</div>
                    Classificar denúncias relacionadas a questões legais e jurídicas.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa2);font-weight:bold">A</span> – Assédio (moral ou sexual):</div>
                    Classificar denúncias de assédio.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa2);font-weight:bold">L</span> – Legislações (infringência normativa):</div>
                    Classificar denúncias de violação de normas e leis.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa2);font-weight:bold">E</span> – Éticas (conduta profissional):</div>
                    Classificar denúncias sobre conduta profissional.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa2);font-weight:bold">C</span> – Conselhos e Conselheiros:</div>
                    Classificar denúncias envolvendo conselhos e conselheiros.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa2);font-weight:bold">O</span> – Outros demandantes (externos ao sistema Cofen/Conselhos):</div>
                    Classificar denúncias de fontes externas.
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Denúncias Classificadas</div>
                </div>
            </div>
        </div>

        <!-- 3ª ETAPA -->
        <div class="etapa etapa-3" id="etapa-3">
            <div class="etapa-title" onclick="toggleEtapa(3)">
                3ª ETAPA: Análise Técnica e Encaminhamentos – Método PROSA
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="content">
                <div class="step">
                    <div class="step-title">Nesta etapa, as manifestações, incluindo as denúncias classificadas, passam por análise técnica e são direcionadas para as providências adequadas, com atenção aos prazos.</div>
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Início da Análise e Encaminhamentos</div>
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa3);font-weight:bold">P</span> – Prazos:</div>
                    - 15 dias: Prazo para análise na Ouvidoria.<br>
                    - 10 dias: Prazo para resposta do setor competente.<br>
                    - 5 dias: Prazo para resposta final ao demandante.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa3);font-weight:bold">R</span> – Rotina:</div>
                    Avaliar manifestações ordinárias ou já tratadas em precedentes.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa3);font-weight:bold">O</span> – Outros:</div>
                    Classificar manifestações não padronizadas (Assuntos Diversos e Sensíveis).
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa3);font-weight:bold">S</span> – Solicitações / SEI:</div>
                    Registrar pedidos de providência formal do usuário e acompanhar o processo no SEI.
                </div>

                <div class="step">
                    <div class="step-title"><span style="color:var(--etapa3);font-weight:bold">A</span> – Anuidades/Inscrições:</div>
                    Tratar demandas específicas ligadas a inscrição, registro e cadastro do profissional ou questões financeiras.
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Tomada de Decisão e Encaminhamento</div>
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Resposta ao Demandante e Finalização</div>
                    <div>Caso o processo permaneça tramitando internamente para análise e deliberações, o manifestante será informado e a manifestação será reaberta após a finalização da análise pela área competente.</div>
                </div>

                <div class="flow-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>

                <div class="step">
                    <div class="step-title">Fim do Processo da Manifestação</div>
                </div>
            </div>
        </div>

        <!-- NOVO RODAPÉ -->
        <footer>
            <p>Desenvolvido pela Ouvidoria Cofen - 2025</p>
            <p><i class="fas fa-envelope"></i> ouvidoria@cofen.gov.br | <i class="fas fa-phone"></i> (61) 3321-0000</p>
            <p>Todos os direitos reservados</p>
        </footer>
    </div>

    <script>
        // Variáveis do quiz
        let currentDifficulty = '';
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];
        let quizTimeout;
        
        // Perguntas do quiz
        const quizQuestions = {
            easy: [
                {
                    question: "Qual é o objetivo principal da 1ª Etapa (Método DIA)?",
                    options: [
                        "Classificar denúncias por gravidade",
                        "Triagem inicial das manifestações",
                        "Encaminhar respostas aos demandantes",
                        "Registrar processos no SEI"
                    ],
                    answer: 1,
                    explanation: "A 1ª Etapa tem como objetivo principal a triagem inicial das manifestações, categorizando-as e priorizando as ações."
                },
                {
                    question: "O que significa a letra 'D' no método DIA?",
                    options: [
                        "Documentação",
                        "Denúncias",
                        "Diretrizes",
                        "Divulgação"
                    ],
                    answer: 1,
                    explanation: "No método DIA, a letra 'D' representa Denúncias, que devem ser identificadas e separadas das demais manifestações."
                },
                {
                    question: "Qual é o prazo para análise na Ouvidoria na 3ª Etapa?",
                    options: [
                        "5 dias",
                        "10 dias",
                        "15 dias",
                        "20 dias"
                    ],
                    answer: 2,
                    explanation: "Na 3ª Etapa (Método PROSA), o prazo para análise na Ouvidoria é de 15 dias."
                },
                {
                    question: "Qual método é utilizado na 2ª Etapa?",
                    options: [
                        "Método DIA",
                        "Método JALECO",
                        "Método PROSA",
                        "Método SEI"
                    ],
                    answer: 1,
                    explanation: "A 2ª Etapa utiliza o Método JALECO para classificação estratégica das denúncias."
                }
            ],
            medium: [
                {
                    question: "Qual das seguintes NÃO é uma categoria do método JALECO?",
                    options: [
                        "Judiciais/Jurídicas",
                        "Assédio",
                        "Financeiro",
                        "Conselhos e Conselheiros"
                    ],
                    answer: 2,
                    explanation: "Financeiro não é uma categoria do método JALECO. As categorias são: Judiciais/Jurídicas, Assédio, Legislações, Éticas, Conselhos e Conselheiros, e Outros demandantes."
                },
                {
                    question: "O que a letra 'A' representa no método PROSA?",
                    options: [
                        "Análise",
                        "Anuidades/Inscrições",
                        "Acompanhamento",
                        "Atendimento"
                    ],
                    answer: 1,
                    explanation: "No método PROSA, a letra 'A' representa Anuidades/Inscrições, que trata de demandas específicas ligadas a inscrição, registro e cadastro do profissional."
                },
                {
                    question: "Qual é a sequência correta dos fluxos da Ouvidoria?",
                    options: [
                        "DIA → PROSA → JALECO",
                        "JALECO → DIA → PROSA",
                        "DIA → JALECO → PROSA",
                        "PROSA → JALECO → DIA"
                    ],
                    answer: 2,
                    explanation: "A sequência correta é: 1ª Etapa (DIA) → 2ª Etapa (JALECO) → 3ª Etapa (PROSA)."
                },
                {
                    question: "Qual é o prazo para resposta final ao demandante?",
                    options: [
                        "5 dias",
                        "10 dias",
                        "15 dias",
                        "30 dias"
                    ],
                    answer: 0,
                    explanation: "O prazo para resposta final ao demandante é de 5 dias, conforme estabelecido na 3ª Etapa (Método PROSA)."
                }
            ],
            hard: [
                {
                    question: "Qual das seguintes ações NÃO faz parte da 1ª Etapa (Método DIA)?",
                    options: [
                        "Monitorar manifestações em aberto",
                        "Atualizar legislações vigentes",
                        "Classificar denúncias por tipo de infração",
                        "Identificar manifestações que relatam irregularidades"
                    ],
                    answer: 2,
                    explanation: "Classificar denúncias por tipo de infração é uma ação da 2ª Etapa (Método JALECO), não da 1ª Etapa."
                },
                {
                    question: "Qual categoria do método JALECO seria apropriada para uma denúncia sobre violação do Código de Ética?",
                    options: [
                        "Judiciais/Jurídicas",
                        "Assédio",
                        "Éticas",
                        "Legislações"
                    ],
                    answer: 2,
                    explanation: "Denúncias sobre violação do Código de Ética devem ser classificadas na categoria 'Éticas (conduta profissional)' do método JALECO."
                },
                {
                    question: "O que deve acontecer se um processo permanecer tramitando internamente após a resposta ao demandante?",
                    options: [
                        "Deve ser arquivado automaticamente",
                        "O manifestante deve ser informado e a manifestação será reaberta após a finalização",
                        "Deve ser encaminhado para outra Ouvidoria",
                        "O prazo é estendido automaticamente por mais 15 dias"
                    ],
                    answer: 1,
                    explanation: "Conforme o fluxo, caso o processo permaneça tramitando internamente, o manifestante será informado e a manifestação será reaberta após a finalização da análise pela área competente."
                },
                {
                    question: "Qual é a finalidade do método PROSA na 3ª Etapa?",
                    options: [
                        "Triagem inicial das manifestações",
                        "Classificação estratégica das denúncias",
                        "Análise técnica e encaminhamentos com atenção aos prazos",
                        "Registro de processos administrativos"
                    ],
                    answer: 2,
                    explanation: "O método PROSA tem como finalidade a análise técnica e encaminhamentos das manifestações, com atenção especial aos prazos estabelecidos."
                }
            ]
        };

        // Funções do quiz
        function showQuizSection() {
            document.querySelectorAll('.etapa').forEach(etapa => {
                etapa.style.display = 'none';
            });
            document.getElementById('quiz-section').style.display = 'block';
            document.querySelector('.progress').style.width = '0%';
            document.getElementById('main-header').scrollIntoView({ behavior: 'smooth' });
        }

        function startQuiz(difficulty) {
            currentDifficulty = difficulty;
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            
            document.querySelector('.difficulty-buttons').style.display = 'none';
            document.getElementById(`${difficulty}-quiz`).style.display = 'block';
            document.getElementById('quiz-result').style.display = 'none';
            
            loadQuestion();
        }

        function loadQuestion() {
            const quizContainer = document.getElementById(`${currentDifficulty}-quiz`);
            const question = quizQuestions[currentDifficulty][currentQuestion];
            
            document.getElementById('question-counter').textContent = `Pergunta ${currentQuestion + 1}/${quizQuestions[currentDifficulty].length}`;
            
            let html = `
                <div class="question">
                    <div class="question-text">${question.question}</div>
                    <div class="options">
            `;
            
            question.options.forEach((option, index) => {
                const isSelected = userAnswers[currentQuestion] === index;
                html += `
                    <div class="option ${isSelected ? 'selected' : ''}" onclick="selectOption(${index})">
                        ${option}
                    </div>
                `;
            });
            
            html += `</div></div>`;
            quizContainer.innerHTML = html;
            
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            document.getElementById('next-btn').textContent = currentQuestion === quizQuestions[currentDifficulty].length - 1 ? 'Finalizar' : 'Próxima';
        }

        function selectOption(optionIndex) {
            // Desabilita todos os cliques durante a animação
            const options = document.querySelectorAll('.option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            // Remove seleções anteriores
            options.forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Marca a opção selecionada
            const selectedOption = options[optionIndex];
            selectedOption.classList.add('selected');
            
            // Salva a resposta do usuário
            userAnswers[currentQuestion] = optionIndex;
            
            // Verifica se a resposta está correta
            const correctAnswer = quizQuestions[currentDifficulty][currentQuestion].answer;
            const isCorrect = optionIndex === correctAnswer;
            
            // Marca a resposta correta e a do usuário
            if (!isCorrect) {
                selectedOption.classList.add('incorrect');
                options[correctAnswer].classList.add('correct');
            } else {
                selectedOption.classList.add('correct');
            }
            
            // Avança automaticamente para a próxima pergunta após 1.5 segundos
            clearTimeout(quizTimeout);
            quizTimeout = setTimeout(() => {
                options.forEach(opt => opt.style.pointerEvents = 'auto');
                
                if (currentQuestion < quizQuestions[currentDifficulty].length - 1) {
                    currentQuestion++;
                    loadQuestion();
                } else {
                    showResults();
                }
            }, 1500);
        }

        function nextQuestion() {
            if (userAnswers[currentQuestion] === undefined) {
                alert('Por favor, selecione uma opção antes de continuar.');
                return;
            }
            
            if (currentQuestion < quizQuestions[currentDifficulty].length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResults();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function showResults() {
            score = 0;
            quizQuestions[currentDifficulty].forEach((question, index) => {
                if (userAnswers[index] === question.answer) {
                    score++;
                }
            });
            
            const percentage = Math.round((score / quizQuestions[currentDifficulty].length) * 100);
            
            // Define o estilo com base no desempenho
            let resultClass = '';
            let feedbackText = '';
            let starsCount = 0;
            
            if (percentage >= 90) {
                resultClass = 'excellent';
                feedbackText = 'Excelente! Domínio total do conteúdo!';
                starsCount = 5;
            } else if (percentage >= 70) {
                resultClass = 'good';
                feedbackText = 'Muito bom! Você conhece bem o assunto!';
                starsCount = 4;
            } else if (percentage >= 50) {
                resultClass = 'average';
                feedbackText = 'Bom! Mas pode melhorar!';
                starsCount = 3;
            } else {
                resultClass = 'poor';
                feedbackText = 'Continue estudando! Você vai melhorar!';
                starsCount = 2;
            }
            
            // Aplica as classes
            document.getElementById('quiz-result').className = `result-container ${resultClass}`;
            document.getElementById('result-feedback').textContent = feedbackText;
            
            // Cria as estrelas
            let starsHtml = '';
            for (let i = 0; i < 5; i++) {
                starsHtml += i < starsCount ? '<i class="fas fa-star"></i>' : '<i class="far fa-star"></i>';
            }
            document.getElementById('result-stars').innerHTML = starsHtml;
            
            // Animação do percentual
            const resultCircle = document.getElementById('result-circle');
            resultCircle.style.background = `conic-gradient(var(--cor-resultado) ${percentage}%, #e0e0e0 ${percentage}%)`;
            
            let currentPercent = 0;
            const percentElement = document.getElementById('result-percent');
            const interval = setInterval(() => {
                if (currentPercent >= percentage) {
                    clearInterval(interval);
                    percentElement.classList.add('pulse');
                } else {
                    currentPercent++;
                    percentElement.textContent = `${currentPercent}%`;
                }
            }, 20);
            
            // Gera feedback detalhado
            let feedback = '<h4>Detalhes das respostas:</h4>';
            quizQuestions[currentDifficulty].forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.answer;
                const userAnswer = question.options[userAnswers[index]];
                const correctAnswer = question.options[question.answer];
                
                feedback += `
                    <div class="feedback-item">
                        <div class="feedback-question">
                            ${question.question}
                        </div>
                        ${isCorrect ? '<i class="fas fa-check correct-icon"></i>' : '<i class="fas fa-times incorrect-icon"></i>'}
                        <div class="feedback-answer">Sua resposta: ${userAnswer}</div>
                        ${!isCorrect ? `<div class="feedback-answer">Resposta correta: ${correctAnswer}</div>` : ''}
                        <div class="feedback-explanation">${question.explanation}</div>
                    </div>
                `;
            });
            
            document.getElementById('feedback').innerHTML = feedback;
            
            document.getElementById('quiz-result').style.display = 'block';
            document.getElementById('quiz-result').scrollIntoView({ behavior: 'smooth' });
        }

        function restartQuiz() {
            document.getElementById('quiz-result').style.display = 'none';
            document.querySelector('.difficulty-buttons').style.display = 'flex';
            document.getElementById(`${currentDifficulty}-quiz`).style.display = 'none';
            currentDifficulty = '';
        }

        // Funções para as etapas
        function toggleEtapa(num) {
            const etapa = document.getElementById(`etapa-${num}`);
            const content = etapa.querySelector('.content');
            const icon = etapa.querySelector('.toggle-icon');
            if (content.style.display === 'none' || !content.style.display) {
                content.style.display = 'block';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
                updateProgress();
            } else {
                content.style.display = 'none';
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
                updateProgress();
            }
        }

        function showEtapa(num) {
            document.querySelectorAll('.etapa').forEach(etapa => {
                etapa.style.display = 'none';
            });
            document.getElementById('quiz-section').style.display = 'none';

            const etapa = document.getElementById(`etapa-${num}`);
            etapa.style.display = 'block';
            const content = etapa.querySelector('.content');
            content.style.display = 'block';
            etapa.querySelector('.toggle-icon').classList.remove('fa-chevron-down');
            etapa.querySelector('.toggle-icon').classList.add('fa-chevron-up');
            etapa.scrollIntoView({ behavior: 'smooth' });

            updateProgress();
        }

        function showAll() {
            document.querySelectorAll('.etapa').forEach(etapa => {
                etapa.style.display = 'block';
                const content = etapa.querySelector('.content');
                content.style.display = 'block';
                etapa.querySelector('.toggle-icon').classList.remove('fa-chevron-down');
                etapa.querySelector('.toggle-icon').classList.add('fa-chevron-up');
            });
            document.getElementById('quiz-section').style.display = 'none';

            updateProgress();
        }

        function updateProgress() {
            const totalSteps = document.querySelectorAll('.step').length;
            let visibleSteps = 0;

            document.querySelectorAll('.step').forEach(step => {
                if (step.offsetParent !== null) {
                    visibleSteps++;
                }
            });

            const progress = (visibleSteps / totalSteps) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            // Configurar clique no cabeçalho principal
            document.getElementById('main-header').addEventListener('click', function() {
                const icon = this.querySelector('.toggle-icon');
                if (icon.classList.contains('fa-chevron-up')) {
                    document.querySelectorAll('.content').forEach(content => {
                        content.style.display = 'none';
                    });
                    document.getElementById('quiz-section').style.display = 'none';
                    document.querySelectorAll('.toggle-icon').forEach(i => {
                        i.classList.remove('fa-chevron-up');
                        i.classList.add('fa-chevron-down');
                    });
                } else {
                    showAll();
                }
                updateProgress();
            });

            // Expandir tudo inicialmente
            showAll();
        });
    </script>
</body>
</html>
